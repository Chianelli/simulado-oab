<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulado OAB - Preparat√≥rio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .correct { border: 2px solid #10b981; background-color: #ecfdf5; }
        .wrong { border: 2px solid #ef4444; background-color: #fef2f2; }
        .hidden { display: none; }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-900">

    <div id="home-screen" class="max-w-xl mx-auto mt-20 p-6 text-center">
        <h1 class="text-3xl font-bold text-blue-700 mb-8">Simulados OAB</h1>
        <p class="text-gray-600 mb-10">Selecione o exame que deseja realizar hoje:</p>
        
        <div class="grid grid-cols-1 gap-4">
            <button onclick="startQuiz('OAB 44')" class="p-6 bg-white border-2 border-blue-500 rounded-xl shadow-sm hover:bg-blue-50 transition font-bold text-lg text-blue-700">
                üöÄ Iniciar Exame 44 (2025)
            </button>
            <button onclick="startQuiz('OAB 43')" class="p-6 bg-white border border-gray-200 rounded-xl shadow-sm hover:bg-gray-50 transition font-bold text-lg">
                Exame 43
            </button>
        </div>
    </div>

    <div id="quiz-screen" class="max-w-3xl mx-auto p-4 hidden">
        <header class="flex justify-between items-center bg-white p-4 rounded-lg shadow-sm mb-6 sticky top-0 z-10">
            <div>
                <button onclick="showHome()" class="text-xs text-blue-500 font-bold mb-1 block">‚Üê Voltar ao In√≠cio</button>
                <div id="total-timer" class="text-xl font-mono text-blue-600">05:00:00</div>
            </div>
            <div class="text-right">
                <span class="text-sm text-gray-500 font-bold">Tempo Quest√£o</span>
                <div id="question-timer" class="text-xl font-mono text-gray-700">00:00</div>
            </div>
        </header>

        <main class="bg-white p-8 rounded-xl shadow-md">
            <div id="metadata" class="mb-4">
                <span id="exam-tag" class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded"></span>
                <span id="subject-tag" class="ml-2 bg-purple-100 text-purple-800 text-xs font-semibold px-2.5 py-0.5 rounded"></span>
                <p id="topic-tag" class="text-xs text-gray-400 mt-2 italic font-bold"></p>
            </div>

            <h2 id="question-text" class="text-lg font-medium leading-relaxed mb-6"></h2>

            <div id="options-container" class="space-y-3"></div>

            <div id="feedback" class="mt-6 p-4 rounded-lg hidden">
                <h4 class="font-bold mb-2">Fundamenta√ß√£o:</h4>
                <p id="justification-text" class="text-sm leading-relaxed"></p>
            </div>

            <footer class="mt-8 pt-6 border-t flex justify-between items-center">
                <button onclick="prevQuestion()" class="px-6 py-2 border rounded-lg hover:bg-gray-100 transition">Anterior</button>
                <div class="text-gray-400 font-medium"><span id="current-idx">1</span>/80</div>
                <button onclick="nextQuestion()" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">Pr√≥xima</button>
            </footer>
        </main>
    </div>

    <script>
        // Banco de Dados das Provas
        const allExams = {
            "OAB 44": [
                {
                    subject: "Direito √âtico",
                    topic: "Sociedade de Advogados",
                    text: "No Exame 44, uma quest√£o comum tratou sobre honor√°rios e sociedade. O advogado Gomes representou D√™nis em uma a√ß√£o... (Exemplo)",
                    options: [
                        "N√£o √© admitido registro de sociedade com s√≥cio n√£o inscrito como advogado.",
                        "√â poss√≠vel incluir s√≥cio estrangeiro sem revalida√ß√£o.",
                        "A sociedade pode realizar atividades de consultoria empresarial.",
                        "Honor√°rios sucumbenciais pertencem exclusivamente ao estagi√°rio."
                    ],
                    correct: 0,
                    explanation: "Art. 16 do EAOAB: N√£o s√£o admitidas a registro as sociedades que incluam s√≥cio n√£o inscrito como advogado ou totalmente proibido de advogar."
                },
                {
                    subject: "Direito Administrativo",
                    topic: "Improbidade Administrativa",
                    text: "Sobre a Lei de Improbidade Administrativa ap√≥s as altera√ß√µes recentes, assinale a correta:",
                    options: [
                        "Admite-se improbidade na modalidade culposa.",
                        "O dolo √© elemento essencial para caracteriza√ß√£o do ato de improbidade.",
                        "Pessoas jur√≠dicas de direito p√∫blico n√£o podem sofrer san√ß√µes.",
                        "O MP n√£o tem mais legitimidade para propor a a√ß√£o."
                    ],
                    correct: 1,
                    explanation: "A Lei 14.230/21 extinguiu a modalidade culposa, exigindo-se dolo espec√≠fico para a condena√ß√£o por improbidade."
                }
            ],
            "OAB 43": [
                {
                    subject: "Direito √âtico",
                    topic: "Sigilo Profissional",
                    text: "Sobre o sigilo profissional do advogado, segundo o C√≥digo de √âtica:",
                    options: [
                        "O sigilo √© absoluto e n√£o admite exce√ß√µes.",
                        "O advogado pode quebrar o sigilo em caso de grave amea√ßa ao direito √† vida.",
                        "O sigilo cede diante de ordem judicial de busca e apreens√£o gen√©rica.",
                        "O cliente pode dispensar o advogado do sigilo para depoimento judicial."
                    ],
                    correct: 1,
                    explanation: "O sigilo profissional cede em casos excepcionais como grave amea√ßa √† vida ou honra, ou para defesa pr√≥pria do advogado."
                }
            ]
        };

        let currentExam = [];
        let currentIdx = 0;
        let qTimer;
        let secondsInQuestion = 0;
        let totalSeconds = 5 * 60 * 60;

        function startQuiz(examKey) {
            currentExam = allExams[examKey];
            currentIdx = 0;
            document.getElementById('home-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            loadQuestion(0);
        }

        function showHome() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('home-screen').classList.remove('hidden');
            clearInterval(qTimer);
        }

        function loadQuestion(idx) {
            const q = currentExam[idx];
            document.getElementById('exam-tag').innerText = "OAB 44 (Simulado)";
            document.getElementById('subject-tag').innerText = q.subject;
            document.getElementById('topic-tag').innerText = "Tema: " + q.topic;
            document.getElementById('question-text').innerText = q.text;
            document.getElementById('current-idx').innerText = idx + 1;
            
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            
            q.options.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left p-4 border rounded-lg hover:bg-blue-50 transition flex items-start";
                btn.innerHTML = `<span class="font-bold mr-3">${String.fromCharCode(65 + i)})</span> ${opt}`;
                btn.onclick = () => checkAnswer(i, q.correct, q.explanation);
                container.appendChild(btn);
            });

            document.getElementById('feedback').classList.add('hidden');
            resetQuestionTimer();
        }

        function checkAnswer(selected, correct, explanation) {
            const btns = document.getElementById('options-container').children;
            if(selected === correct) {
                btns[selected].classList.add('correct');
            } else {
                btns[selected].classList.add('wrong');
                btns[correct].classList.add('correct');
            }
            document.getElementById('justification-text').innerText = explanation;
            document.getElementById('feedback').classList.remove('hidden');
            Array.from(btns).forEach(b => b.onclick = null);
        }

        function nextQuestion() {
            if(currentIdx < currentExam.length - 1) {
                currentIdx++;
                loadQuestion(currentIdx);
            }
        }

        function prevQuestion() {
            if(currentIdx > 0) {
                currentIdx--;
                loadQuestion(currentIdx);
            }
        }

        function resetQuestionTimer() {
            clearInterval(qTimer);
            secondsInQuestion = 0;
            qTimer = setInterval(() => {
                secondsInQuestion++;
                const m = Math.floor(secondsInQuestion / 60).toString().padStart(2, '0');
                const s = (secondsInQuestion % 60).toString().padStart(2, '0');
                document.getElementById('question-timer').innerText = `${m}:${s}`;
            }, 1000);
        }

        // Timer Total decrescente
        setInterval(() => {
            if(totalSeconds > 0) {
                totalSeconds--;
                const h = Math.floor(totalSeconds / 3600).toString().padStart(2, '0');
                const m = Math.floor((totalSeconds % 3600) / 60).toString().padStart(2, '0');
                const s = (totalSeconds % 60).toString().padStart(2, '0');
                document.getElementById('total-timer').innerText = `${h}:${m}:${s}`;
            }
        }, 1000);
    </script>
</body>
</html>